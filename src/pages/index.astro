---
import LayoutBasic from '../layouts/LayoutBasic.astro';

import IndexSeccion1 from '../components/index/Secciones/IndexSeccion1.jsx';
import IndexSeccion2 from '../components/index/Secciones/IndexSeccion2.jsx';
import IndexSeccion4 from '../components/index/Secciones/IndexSeccion4.jsx';
import IndexSeccion5 from '../components/index/Secciones/IndexSeccion5.jsx';
import IndexSeccion6 from '../components/index/Secciones/IndexSeccion6.jsx';
import IndexSeccion7 from '../components/index/Secciones/IndexSeccion7.jsx';
import IndexSeccion8 from '../components/index/Secciones/IndexSeccion8.jsx';
import IndexSeccion9 from '../components/index/Secciones/IndexSeccion9.jsx';
import IndexSeccion10 from '../components/index/Secciones/IndexSeccion10.jsx';

---

<LayoutBasic title="Congreso Nacional de Amparo y Derechos Humanos 2025 - Abogados Liberales" showFooter={true}>
    <IndexSeccion1 transition:persist client:only/>
    <IndexSeccion2 transition:persist client:only/>
    <IndexSeccion4 transition:persist client:only/>
    <IndexSeccion5 transition:persist client:only/>
 <!--    <IndexSeccion6 transition:persist client:only/> -->
    <IndexSeccion7 transition:persist client:only/>
    <IndexSeccion9 transition:persist client:only/>
    <IndexSeccion10 transition:persist client:only/>
    <IndexSeccion8 transition:persist client:only/>
</LayoutBasic>

<script>
  // Script para manejar navegación con hash desde otras páginas
  function scrollToHashSection() {
    const hash = window.location.hash;
    
    if (hash) {
      // Esperar a que todos los componentes React se hayan renderizado
      setTimeout(() => {
        const targetId = hash.substring(1); // Quitar el "#"
        const targetElement = document.getElementById(targetId);
        
        if (targetElement) {
          // Calcular offset del navbar (80px)
          const navbarHeight = 80;
          const elementPosition = targetElement.getBoundingClientRect().top;
          const offsetPosition = elementPosition + window.pageYOffset - navbarHeight;
          
          // Scroll suave a la sección
          window.scrollTo({
            top: offsetPosition,
            behavior: 'smooth'
          });
        }
      }, 300); // Dar tiempo a que React monte los componentes
    }
  }

  // Ejecutar al cargar la página
  document.addEventListener('DOMContentLoaded', scrollToHashSection);
  
  // Ejecutar también después de las transiciones de Astro
  document.addEventListener('astro:after-swap', scrollToHashSection);
  
  // Ejecutar inmediatamente por si ya cargó
  if (document.readyState === 'complete') {
    scrollToHashSection();
  }
</script>

